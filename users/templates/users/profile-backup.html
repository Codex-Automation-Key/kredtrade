{% extends "market/base.html" %}
{% load tailwind_filters %}
{% block title %}
    <h1 class="text-4xl font-bold text-center text-gray-800 mb-8">{{user.username}}</h1>
{% endblock title %}
{% block content %}
<div class="flex" style="width: auto;">
        <!-- Fixed Sidebar -->
        <div class="w-1/3 h-screen sticky top-0 bg-white shadow-lg p-4" style="height: auto;">
            <div class="px-6 py-4">
                <div class="flex justify-center mb-6">
                    <img class="h-24 w-24 rounded-full border-4 border-gray-200" src="{{user.profile.image.url}}" alt="Company Logo">
                </div>
                <div class="text-center">
                    <div class="text-xl font-semibold mb-2">{{user.profile.company}}</div>
                    <p class="text-gray-700 text-base">
                        <span class="bg-blue-500 text-white py-1 px-2 rounded-full text-xs">{{user.profile.address}}</span>
                    </p>
                </div>
                <a href="{% url 'profile-update' user.id %}">
                    <div class="flex justify-center mt-6">
                        <button class="bg-teal-500 hover:bg-orange-700 text-white font-bold py-2 px-6 rounded">
                            Update Profile
                        </button>
                    </div>
                </a>
            </div>
            <div class="px-6 pt-4 pb-2">
                <div class="grid grid-cols-1 gap-4">
                    <h2 class="font-semibold text-xl mb-3">About The Company:</h2>
                <div class="grid grid-cols- gap-4" >
                    <div style="border-color:rgb(209, 207, 207) ; border-width: 1px; border-radius: 15px; ">
                        <div style="margin: 10px;">
                            <strong>Year of Establishment:</strong>
                            <p>{{user.profile.est}}</p>
                            <strong>Legal Status of Firm:</strong>
                            <p>{{user.profile.status}}</p>
                        </div>
                        
                    </div>
                    <div style="border-color:rgb(209, 207, 207) ; border-width: 1px; border-radius: 15px; ">
                        <div style="margin: 10px;">
                            <strong>Nature of Business:</strong>
                            <p>{{user.profile.nature}}</p>
                            <strong>Number of Employees:</strong>
                            <p>{{user.profile.employee}}</p>
                        </div>
                    </div>
                    <div style="border-color:rgb(209, 207, 207) ; border-width: 1px; border-radius: 15px; ">
                        <div style="margin: 10px;">    
                            <div style="margin: 10px;"></div>
                            <strong>Annual Turnover:</strong>
                            <p>{{user.profile.turnover}}</p>
                        
                            <strong>Registered Promotor</strong>
                            <p>{{user.profile.promotor_name}}</p>
                        </div>
                    </div>
                </div>
                <p class="mt-4">{{user.profile.company}} <br> {{user.profile.description}}</p>
                
                </div>
            </div>
        </div>
        <!-- Main Content Scrollable -->
        <div class="w-2/3 overflow-auto p-4 space-y-6">
            
            <div class="bg-white p-4 shadow rounded"  style="padding: 5px; margin: 5px;">
                <div class="bg-white p-4 shadow rounded">
                    
                        <div class="flex items-center space-x-4">
                            
                            <div class="flex-grow space-y-2" style="border-radius: 5px; border-width: 2px;">
                                <h2 class="text-2xl text-center"  style="height: auto;">
                                    <strong>
                                        Published Posts
                                    </strong> 
                                </h2>
                                <h3> 
                                    
                                    {% for post in posts %}
                                        {% if post.author == user %}
                                        <strong>
                                            Title
                                        </strong>
                                        <a href="{% url 'post-detail' post.id %}">
                                            {{ post.title }} |
                                        </a>
                                            
                                            <br> <!-- Line break after each title -->
                                        {% endif %}
                                    {% endfor %}
                                    </h3>   
                            </div>
                        </div>
                        
                        <div style="border-radius: 5px; border-width: 2px; margin-top: 10px;">
                            <h2 class="text-2xl text-center"  >
                                <strong>
                                    Listed Items
                                </strong> 
                            </h2>
                            <div class="grid grid-cols-3 gap-3" style="margin-top: 10px;">
                                
                                {% for item in items %}
                                    {% if item.created_by == user %}
                                <div>
                                    
                                    <a href="{% url 'item-detail' item.id %}">
                                        <div>
                                            <img src="{{ item.image.url }}" alt="item-image" 
                                            class="flex-none w-40 h-40 rounded-lg" 
                                            style="border-color: rgb(41, 26, 7); border-width: 2px;">
                                        </div>
                                        <div class="p-6 bh-white rounded-b-xl">
                                            <h2 class="text-2xl">{{ item.item_name }}</h2>
                                            
                                        </div>
                                    </a>
                                </div>
                                    {% endif %}
                                {% endfor %}
                
                            </div>

                        </div>
                        
                    </p>
                    
                </div>
            </div>
        </div>
        
    </div>
    
    
    
{% endblock content %}